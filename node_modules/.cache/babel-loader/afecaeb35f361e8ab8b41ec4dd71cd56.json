{"ast":null,"code":"var _jsxFileName = \"G:\\\\GithubWebsite\\\\portfoliowebsite\\\\src\\\\components\\\\BlackjackGame.js\";\nimport React from 'react'; //import { setState } from 'react'\n\nimport '../App.css';\nimport { Box, Image } from 'rebass';\nimport twoOfSpades from '../images/2ofSpades.png';\nimport threeOfSpades from '../images/3ofSpades.png';\nimport fourOfSpades from '../images/4ofSpades.png';\nimport fiveOfSpades from '../images/5ofSpades.png';\nimport sixOfSpades from '../images/6ofSpades.png';\nimport sevenOfSpades from '../images/7ofSpades.png';\nimport eightOfSpades from '../images/8ofSpades.png';\nimport nineOfSpades from '../images/9ofSpades.png';\nimport tenOfSpades from '../images/10ofSpades.png';\nimport aceOfSpades from '../images/aceOfSpades.png';\nimport * as tf from '@tensorflow/tfjs';\nconst cardStyle = {\n  height: 'auto',\n  maxWidth: '20%'\n};\nconst cardValues = {\n  2: twoOfSpades,\n  3: threeOfSpades,\n  4: fourOfSpades,\n  5: fiveOfSpades,\n  6: sixOfSpades,\n  7: sevenOfSpades,\n  8: eightOfSpades,\n  9: nineOfSpades,\n  10: tenOfSpades,\n  11: aceOfSpades\n};\n\nclass Hand {\n  constructor(handOwner, ai = false) {\n    this.owner = handOwner;\n    this.isAi = ai;\n    this.cards = [];\n    this.soft = 0;\n    this.blackjack = false;\n    this.count = 0;\n    this.total = this.getTotalCardValue();\n    this.busted = false;\n  }\n\n  addCard(deck) {\n    this.cards.push(deck.pop());\n    this.getTotalCardValue();\n  }\n\n  getTotalCardValue() {\n    var total = 0;\n    var handCount = 0;\n    this.cards.forEach(card => {\n      if (card <= 6) {\n        handCount += 1;\n      } else if (card >= 10) {\n        handCount -= 1;\n      }\n\n      this.count = handCount;\n\n      if (card === 11 && total + card > 21) {\n        card = 1;\n      } else if (card === 11 && this.soft === 0) {\n        this.soft = 1;\n      } else if (total + card > 21 && this.soft === 1) {\n        total -= 10;\n        this.soft = 0;\n      }\n\n      total += card;\n      this.total = total;\n    });\n    this.total = total;\n\n    if (total > 21) {\n      console.log(this.owner, \"busted!\");\n      this.busted = true;\n    } else {\n      this.busted = false;\n    }\n\n    return total;\n  }\n\n}\n\nconst gameStyle = {\n  background: 'green',\n  align: 'center',\n  display: 'flex',\n  borderRadius: '5px',\n  border: '1px solid black'\n};\nconst messageStyle = {\n  background: 'DarkGreen',\n  textAlign: 'center',\n  borderRadius: '20px, 20px, 20px, 20px'\n};\nconst playerSideStyle = {\n  width: '50%',\n  borderRadius: '5px'\n};\nconst aiSideStyle = {\n  height: '100%',\n  width: '50%'\n};\nconst dealerStyle = {\n  height: 'auto',\n  maxHeight: '25em',\n  borderRadius: '5px'\n};\nconst playerStyle = {\n  background: 'green',\n  borderRadius: '5px'\n};\nconst aiStyle = {\n  background: 'green'\n};\nconst gameButtons = {\n  margin: 'auto',\n  width: '100%',\n  align: 'center'\n};\nconst gameButtonStyles = {\n  false: {\n    textAlign: 'center',\n    height: '10%',\n    width: '50%',\n    backgroundColor: \"white\",\n    color: \"black\",\n    fontSize: \"1.5em\",\n    borderRadius: '5px',\n    border: '1px solid black'\n  },\n  true: {\n    textAlign: 'center',\n    height: '10%',\n    width: '50%',\n    backgroundColor: \"gray\",\n    color: \"black\",\n    fontSize: \"1.5em\",\n    borderRadius: '5px',\n    border: '1px solid black'\n  }\n};\nconst scoreStyle = {\n  textAlign: 'center'\n};\nvar deck;\nvar aiDeck;\nvar dealerHand = new Hand(\"dealer\");\nvar playerHand = new Hand(\"player\");\nvar aiDealerHand = new Hand(\"aiDealer\");\nvar aiPlayerHand = new Hand(\"player\", true);\nvar model;\nvar playerStats = {\n  \"win\": 0,\n  \"push\": 0,\n  \"loss\": 0\n};\nvar aiStats = {\n  \"win\": 0,\n  \"push\": 0,\n  \"loss\": 0\n};\nvar totalGames = 0;\n\nclass BlackjackGame extends React.Component {\n  constructor(props) {\n    super(props);\n    model = this.loadTheModel().then(function (result) {\n      return result;\n    }).catch(console.log(\"failure\"));\n    console.log(\"model: \", model);\n    this.startGame();\n    this.state = {\n      playerHand: [],\n      dealerHand: [],\n      aiHand: [],\n      aiDealerHand: [],\n      hitDisabled: false,\n      stayDisabled: false,\n      restartDisabled: true,\n      playerDone: false,\n      dealerDone: false,\n      aiPlayerDone: false,\n      message: \"Hit Or Stay\",\n      aiMessage: \"AI Is Waiting\",\n      playerWinPercentage: 0,\n      playerPushPercentage: 0,\n      playerLossPercentage: 0,\n      aiWinPercentage: 0,\n      aiPushPercentage: 0,\n      aiLossPercentage: 0\n    };\n  }\n\n  checkForBlackjack(dealer, player) {\n    if (dealer.total === 21 && player.total === 21) {\n      this.setState({\n        message: \"Push!\"\n      });\n      this.setStats(\"push\", player.isAi);\n      return true;\n    } else if (dealer.total === 21) {\n      this.setState({\n        message: \"Dealer has blackjack!\"\n      });\n      this.setStats(\"loss\", true);\n      this.setStats(\"loss\", false);\n      return true;\n    } else if (player.total === 21) {\n      this.setState({\n        message: \"Player has blackjack!\"\n      });\n      this.setStats(\"win\", true);\n      this.setStats(\"win\", false);\n      return true;\n    } else return false;\n  }\n\n  displayDealerTotal(dealerType = \"human\") {\n    if (dealerHand.cards.length === 2) {\n      return dealerHand.cards[0];\n    }\n\n    if (dealerType === \"ai\") {\n      return aiDealerHand.getTotalCardValue();\n    }\n\n    return dealerHand.getTotalCardValue();\n  }\n\n  async getAiDealerMoves() {\n    console.log(\"starting dealer moves\");\n    console.log(\"dealer total\", aiDealerHand.getTotalCardValue());\n\n    while (aiDealerHand.getTotalCardValue() < 17) {\n      console.log(\"aiDealer is hitting\");\n      this.hit(\"aiDealer\");\n    }\n\n    this.getWinner(aiDealerHand, aiPlayerHand);\n  }\n\n  async getAiMoves() {\n    while (aiPlayerHand.busted === false && aiPlayerHand.total != 21) {\n      var predictions = await this.getPrediction();\n      console.log(\"predictions: \", predictions);\n\n      if (predictions[0] >= predictions[1] && predictions[0] > 0.5) {\n        console.log(\"ai is hitting\");\n        this.hit(\"aiPlayer\");\n      } else {\n        console.log(\"ai is holding\");\n        break;\n      }\n    }\n\n    this.getAiDealerMoves(aiDealerHand, aiPlayerHand);\n  }\n\n  getCards(hand, playerType) {\n    var cards = [];\n\n    for (var i = 0; i < hand.cards.length; i++) {\n      var card = hand.cards[i];\n      cards.push(getCard(card, i));\n\n      if (playerType === \"dealer\" & this.state.playerDone === false) {\n        i = hand.cards.length;\n      }\n    }\n\n    return cards;\n  }\n\n  getCount(hand1, hand2) {\n    return hand1.count + hand2.count;\n  }\n\n  getDealerMoves(dealer, player) {\n    while (dealer.getTotalCardValue() < 17) {\n      if (dealer.owner === \"dealer\") {\n        this.hit(\"dealer\");\n      } else {\n        this.hit(\"aiDealer\");\n      }\n    }\n\n    this.getWinner(dealer, player);\n    this.getAiMoves();\n    this.setState({\n      restartDisabled: false\n    });\n  }\n\n  getPercentage(playerType = \"human\", endType) {\n    if (playerType === \"ai\") {\n      return Math.floor(100 * (aiStats[endType] / (totalGames + 1)));\n    }\n\n    return Math.floor(100 * (playerStats[endType] / (totalGames + 1)));\n  }\n\n  async getPrediction() {\n    model = await tf.loadLayersModel('model.json');\n    var hitPredictionInput = tf.tensor([[aiDealerHand.cards[0], aiPlayerHand.getTotalCardValue(), this.getCount(aiDealerHand, aiPlayerHand), aiPlayerHand.soft, 1]]);\n    var stayPredictionInput = tf.tensor([[aiDealerHand.cards[0], aiPlayerHand.getTotalCardValue(), this.getCount(aiDealerHand, aiPlayerHand), aiPlayerHand.soft, 0]]);\n    var hitPrediction = model.predict(hitPredictionInput).dataSync()[0];\n    var stayPrediction = model.predict(stayPredictionInput).dataSync()[0];\n    console.log(\"hit: \", hitPrediction, \" stay: \", stayPrediction);\n    return [hitPrediction, stayPrediction];\n  }\n\n  getWinner(dealer, player) {\n    var winnerMessage = \"\";\n\n    if (player.total > 21) {\n      winnerMessage = \"Player Busted! Dealer Wins!\";\n      this.setStats(\"loss\", player.isAi);\n    } else if (dealer.busted) {\n      winnerMessage = \"Dealer Busted! Player Wins!\";\n      this.setStats(\"win\", player.isAi);\n    } else if (dealer.total > player.total) {\n      winnerMessage = \"Dealer Wins!\";\n      this.setStats(\"loss\", player.isAi);\n    } else if (player.total > dealer.total) {\n      winnerMessage = \"Player Wins!\";\n      this.setStats(\"win\", player.isAi);\n    } else {\n      winnerMessage = \"Push!\";\n      this.setStats(\"push\", player.isAi);\n    }\n\n    if (dealer.owner === \"dealer\") {\n      this.setState({\n        message: winnerMessage\n      });\n    } else {\n      this.setState({\n        aiMessage: winnerMessage\n      });\n    }\n  }\n\n  hit(handOwner) {\n    switch (handOwner) {\n      case \"player\":\n        this.setState({\n          playerHand: playerHand.addCard(deck)\n        });\n\n        if (playerHand.busted) {\n          console.log(\"bust\");\n          this.setState({\n            hitDisabled: true,\n            stayDisabled: true,\n            restartDisabled: false,\n            playerDone: true,\n            dealerDone: true,\n            message: \"Player busted! Dealer Wins!\"\n          });\n          this.getDealerMoves(dealerHand, playerHand);\n        }\n\n        break;\n\n      case \"dealer\":\n        this.setState({\n          dealerHand: dealerHand.addCard(deck)\n        });\n\n        if (dealerHand.busted) {\n          this.setState({\n            dealerDone: true,\n            message: \"Dealer Busted! Player Wins!\"\n          });\n        } else if (dealerHand.total >= 17 && dealerHand.total <= 21) {\n          this.setState({\n            dealerDone: true,\n            restartDisabled: false\n          });\n        }\n\n        break;\n\n      case \"aiPlayer\":\n        this.setState({\n          aiPlayerHand: aiPlayerHand.addCard(aiDeck)\n        });\n\n        if (aiPlayerHand.busted) {\n          this.setState({\n            aiPlayerDone: true,\n            aiMessage: \"AI Busted! AI Dealer Wins!\"\n          });\n        }\n\n        break;\n\n      case \"aiDealer\":\n        this.setState({\n          aiDealerHand: aiDealerHand.addCard(aiDeck)\n        });\n\n        if (aiDealerHand.busted) {\n          this.setState({\n            dealerDone: true,\n            aiMessage: \"Dealer Busted! Player Wins!\"\n          });\n        } else if (aiDealerHand.total >= 17 && aiDealerHand.total <= 21) {\n          this.setState({\n            dealerDone: true,\n            restartDisabled: false\n          });\n        }\n\n        break;\n\n      default:\n        console.log(\"Error: Player type not recognized\");\n        break;\n    }\n  }\n\n  async loadTheModel() {\n    var model;\n\n    try {\n      model = await tf.loadLayersModel('model.json');\n      return model;\n    } catch (err) {\n      console.log(err);\n      console.log(\"failed load model\");\n    }\n  }\n\n  setStats(endType, isAi) {\n    if (isAi === true) {\n      aiStats[endType] += 1;\n    } else {\n      playerStats[endType] += 1;\n    }\n\n    this.setState({\n      playerWinPercentage: this.getPercentage(\"human\", \"win\"),\n      playerPushPercentage: this.getPercentage(\"human\", \"push\"),\n      aiWinPercentage: this.getPercentage(\"ai\", \"win\"),\n      aiPushPercentage: this.getPercentage(\"ai\", \"push\"),\n      playerLossPercentage: 100 - this.getPercentage(\"human\", \"win\") - this.getPercentage(\"human\", \"push\"),\n      aiLossPercentage: 100 - this.getPercentage(\"ai\", \"win\") - this.getPercentage(\"ai\", \"push\")\n    });\n    console.log(\"playerStats: \", playerStats, \" totalGames: \", totalGames);\n    console.log(\"aiStats: \", aiStats, \" totalGames: \", totalGames);\n  }\n\n  startGame() {\n    totalGames += 1;\n    this.setState({\n      playerHand: [],\n      dealerHand: [],\n      playerDone: false,\n      dealerDone: false,\n      hitDisabled: false,\n      stayDisabled: false,\n      restartDisabled: true,\n      message: \"hit or stay\",\n      aiMessage: \"AI Side\"\n    });\n    buildDeck();\n    dealCards();\n\n    if (this.checkForBlackjack(dealerHand, playerHand) === true) {\n      this.setState({\n        hitDisabled: true,\n        stayDisabled: true,\n        restartDisabled: false\n      });\n    }\n\n    console.log('start');\n  }\n\n  stay(hand) {\n    switch (hand.owner) {\n      case \"player\":\n        this.setState({\n          hitDisabled: true,\n          stayDisabled: true,\n          playerDone: true\n        });\n        this.getDealerMoves(dealerHand, playerHand);\n\n      case \"aiPlayer\":\n        console.log(\"aiPlayer stayed\");\n\n      default:\n        console.log(\"unknown player stayed\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 7\n      }\n    }, \"What is Blackjack AI?\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 7\n      }\n    }, \"Blackjack AI is a trained neural network that learned from over 10,000 hands of Blackjack.\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 7\n      }\n    }, \"Tech Stack\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }\n    }, \"AI: Python, keras, Tensorflow, TensorflowJS, and JavaScript\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 9\n      }\n    }, \"Website: ReactJS, JavaScript, html, CSS3\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }\n    }, \"Hosted on Github Pages\")), /*#__PURE__*/React.createElement(Box, {\n      style: scoreStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 7\n      }\n    }, \"Total Games: \", totalGames), /*#__PURE__*/React.createElement(Box, {\n      style: scoreStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 7\n      }\n    }, \"Player Wins: \", this.state.playerWinPercentage, \"% AI Wins: \", this.state.aiWinPercentage, \"%\"), /*#__PURE__*/React.createElement(Box, {\n      style: scoreStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 7\n      }\n    }, \"Player Pushes: \", this.state.playerPushPercentage, \"% AI Pushes: \", this.state.aiPushPercentage, \"%\"), /*#__PURE__*/React.createElement(Box, {\n      style: scoreStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 7\n      }\n    }, \"Player Losses: \", this.state.playerLossPercentage, \"% AI Loss: \", this.state.aiLossPercentage, \"%\"), /*#__PURE__*/React.createElement(Box, {\n      style: gameStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: playerSideStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: messageStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 11\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }\n    }, \"Dealer: \", this.displayDealerTotal()), /*#__PURE__*/React.createElement(Box, {\n      style: dealerStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }\n    }, this.getCards(dealerHand, \"dealer\")), /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 11\n      }\n    }, \"Player: \", playerHand.getTotalCardValue()), /*#__PURE__*/React.createElement(Box, {\n      style: playerStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }\n    }, this.getCards(playerHand, \"player\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: gameButtons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.hitDisabled,\n      onClick: () => this.hit(\"player\"),\n      style: gameButtonStyles[this.state.hitDisabled],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 13\n      }\n    }, \"HIT\"), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.stayDisabled,\n      onClick: () => this.stay(playerHand),\n      style: gameButtonStyles[this.state.stayDisabled],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 13\n      }\n    }, \"STAY\"), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.restartDisabled,\n      onClick: () => this.startGame(),\n      style: gameButtonStyles[this.state.restartDisabled],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 13\n      }\n    }, \"PLAY AGAIN\")))), /*#__PURE__*/React.createElement(Box, {\n      style: aiSideStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      style: messageStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 11\n      }\n    }, this.state.aiMessage), /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 11\n      }\n    }, \"AI Dealer: \", this.displayDealerTotal(\"ai\")), /*#__PURE__*/React.createElement(Box, {\n      style: dealerStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }\n    }, this.getCards(aiDealerHand, \"dealer\")), /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 11\n      }\n    }, \"AI Player: \", aiPlayerHand.getTotalCardValue()), /*#__PURE__*/React.createElement(Box, {\n      style: aiStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }\n    }, this.getCards(aiPlayerHand, \"aiPlayer\")))));\n  }\n\n}\n\nfunction buildDeck() {\n  deck = [];\n\n  for (var i = 0; i < 8; i++) {\n    for (var j = 2; j < 12; j++) {\n      if (j === 10) {\n        deck.push(j);\n        deck.push(j);\n        deck.push(j);\n      }\n\n      deck.push(j);\n    }\n  }\n\n  shuffle(deck);\n  aiDeck = deck.slice();\n  console.log(\"building deck\");\n}\n\nfunction dealCards() {\n  playerHand.cards = [];\n  dealerHand.cards = [];\n  aiPlayerHand.cards = [];\n  aiDealerHand.cards = [];\n\n  for (var i = 0; i < 2; i++) {\n    playerHand.addCard(deck);\n    dealerHand.addCard(deck);\n    aiPlayerHand.addCard(aiDeck);\n    aiDealerHand.addCard(aiDeck);\n  }\n\n  aiPlayerHand.getTotalCardValue();\n  aiDealerHand.getTotalCardValue();\n  console.log(\"dealing cards\");\n}\n\nfunction getCard(card, index) {\n  return /*#__PURE__*/React.createElement(Image, {\n    key: index.toString(),\n    style: cardStyle,\n    src: cardValues[card],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 5\n    }\n  });\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--; // And swap it with the current element.\n\n    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\n  }\n\n  return array;\n}\n\nexport default BlackjackGame;","map":{"version":3,"sources":["G:/GithubWebsite/portfoliowebsite/src/components/BlackjackGame.js"],"names":["React","Box","Image","twoOfSpades","threeOfSpades","fourOfSpades","fiveOfSpades","sixOfSpades","sevenOfSpades","eightOfSpades","nineOfSpades","tenOfSpades","aceOfSpades","tf","cardStyle","height","maxWidth","cardValues","Hand","constructor","handOwner","ai","owner","isAi","cards","soft","blackjack","count","total","getTotalCardValue","busted","addCard","deck","push","pop","handCount","forEach","card","console","log","gameStyle","background","align","display","borderRadius","border","messageStyle","textAlign","playerSideStyle","width","aiSideStyle","dealerStyle","maxHeight","playerStyle","aiStyle","gameButtons","margin","gameButtonStyles","false","backgroundColor","color","fontSize","true","scoreStyle","aiDeck","dealerHand","playerHand","aiDealerHand","aiPlayerHand","model","playerStats","aiStats","totalGames","BlackjackGame","Component","props","loadTheModel","then","result","catch","startGame","state","aiHand","hitDisabled","stayDisabled","restartDisabled","playerDone","dealerDone","aiPlayerDone","message","aiMessage","playerWinPercentage","playerPushPercentage","playerLossPercentage","aiWinPercentage","aiPushPercentage","aiLossPercentage","checkForBlackjack","dealer","player","setState","setStats","displayDealerTotal","dealerType","length","getAiDealerMoves","hit","getWinner","getAiMoves","predictions","getPrediction","getCards","hand","playerType","i","getCard","getCount","hand1","hand2","getDealerMoves","getPercentage","endType","Math","floor","loadLayersModel","hitPredictionInput","tensor","stayPredictionInput","hitPrediction","predict","dataSync","stayPrediction","winnerMessage","err","buildDeck","dealCards","stay","render","j","shuffle","slice","index","toString","array","currentIndex","randomIndex","random"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import { setState } from 'react'\r\nimport '../App.css';\r\nimport { Box, Image } from 'rebass'\r\nimport twoOfSpades from '../images/2ofSpades.png'\r\nimport threeOfSpades from '../images/3ofSpades.png'\r\nimport fourOfSpades from '../images/4ofSpades.png'\r\nimport fiveOfSpades from '../images/5ofSpades.png'\r\nimport sixOfSpades from '../images/6ofSpades.png'\r\nimport sevenOfSpades from '../images/7ofSpades.png'\r\nimport eightOfSpades from '../images/8ofSpades.png'\r\nimport nineOfSpades from '../images/9ofSpades.png'\r\nimport tenOfSpades from '../images/10ofSpades.png'\r\nimport aceOfSpades from '../images/aceOfSpades.png'\r\nimport * as tf from '@tensorflow/tfjs'\r\n\r\nconst cardStyle = {\r\n  height: 'auto',\r\n  maxWidth: '20%',\r\n}\r\n\r\nconst cardValues = {\r\n  2: twoOfSpades,\r\n  3: threeOfSpades,\r\n  4: fourOfSpades,\r\n  5: fiveOfSpades,\r\n  6: sixOfSpades,\r\n  7: sevenOfSpades,\r\n  8: eightOfSpades,\r\n  9: nineOfSpades,\r\n  10: tenOfSpades,\r\n  11: aceOfSpades\r\n}\r\n\r\nclass Hand {\r\n  constructor(handOwner, ai = false) {\r\n    this.owner = handOwner;\r\n    this.isAi = ai;\r\n    this.cards = [];\r\n    this.soft = 0;\r\n    this.blackjack = false;\r\n    this.count = 0;\r\n    this.total = this.getTotalCardValue();\r\n    this.busted = false;\r\n  }\r\n\r\n  addCard(deck) {\r\n    this.cards.push(deck.pop())\r\n    this.getTotalCardValue()\r\n  }\r\n\r\n  getTotalCardValue() {\r\n    var total = 0\r\n    var handCount = 0\r\n    this.cards.forEach(card => {\r\n      if (card <= 6) {\r\n        handCount += 1\r\n      }\r\n      else if (card >= 10) {\r\n        handCount -= 1\r\n      }\r\n      this.count = handCount\r\n      if (card === 11 && total + card > 21) {\r\n        card = 1\r\n      }\r\n      else if (card === 11 && this.soft === 0) {\r\n        this.soft = 1\r\n      }\r\n      else if (total + card > 21 && this.soft === 1) {\r\n        total -= 10\r\n        this.soft = 0\r\n      }\r\n      total += card\r\n      this.total = total\r\n    });\r\n\r\n    this.total = total\r\n    if (total > 21) {\r\n      console.log(this.owner, \"busted!\")\r\n      this.busted = true;\r\n    }\r\n    else {\r\n      this.busted = false;\r\n    }\r\n    return total;\r\n  }\r\n}\r\n\r\nconst gameStyle = {\r\n  background: 'green',\r\n  align: 'center',\r\n  display: 'flex',\r\n  borderRadius: '5px',\r\n  border: '1px solid black'\r\n}\r\n\r\nconst messageStyle = {\r\n  background: 'DarkGreen',\r\n  textAlign: 'center',\r\n  borderRadius: '20px, 20px, 20px, 20px'\r\n}\r\n\r\nconst playerSideStyle = {\r\n  width: '50%',\r\n  borderRadius: '5px'\r\n}\r\n\r\nconst aiSideStyle = {\r\n  height: '100%',\r\n  width: '50%',\r\n}\r\n\r\nconst dealerStyle = {\r\n  height: 'auto',\r\n  maxHeight: '25em',\r\n  borderRadius: '5px'\r\n}\r\n\r\nconst playerStyle = {\r\n  background: 'green',\r\n  borderRadius: '5px'\r\n}\r\n\r\nconst aiStyle = {\r\n  background: 'green',\r\n}\r\n\r\nconst gameButtons = {\r\n  margin: 'auto',\r\n  width: '100%',\r\n  align: 'center',\r\n}\r\n\r\nconst gameButtonStyles = {\r\n  false: {\r\n    textAlign: 'center',\r\n    height: '10%',\r\n    width: '50%',\r\n    backgroundColor: \"white\",\r\n    color: \"black\",\r\n    fontSize: \"1.5em\",\r\n    borderRadius: '5px',\r\n    border: '1px solid black'\r\n  },\r\n  true: {\r\n    textAlign: 'center',\r\n    height: '10%',\r\n    width: '50%',\r\n    backgroundColor: \"gray\",\r\n    color: \"black\",\r\n    fontSize: \"1.5em\",\r\n    borderRadius: '5px',\r\n    border: '1px solid black'\r\n  }\r\n};\r\n\r\nconst scoreStyle = {\r\n  textAlign: 'center'\r\n}\r\n\r\nvar deck;\r\nvar aiDeck;\r\nvar dealerHand = new Hand(\"dealer\");\r\nvar playerHand = new Hand(\"player\");\r\nvar aiDealerHand = new Hand(\"aiDealer\");\r\nvar aiPlayerHand = new Hand(\"player\", true);\r\nvar model\r\nvar playerStats = {\r\n  \"win\": 0,\r\n  \"push\": 0,\r\n  \"loss\": 0\r\n}\r\nvar aiStats = {\r\n  \"win\": 0,\r\n  \"push\": 0,\r\n  \"loss\": 0\r\n}\r\nvar totalGames = 0\r\n\r\nclass BlackjackGame extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    model = this.loadTheModel()\r\n    .then(function(result) {\r\n      return result\r\n    })\r\n    .catch(console.log(\"failure\"))\r\n    console.log(\"model: \", model)\r\n    this.startGame();\r\n    this.state = {\r\n      playerHand : [],\r\n      dealerHand: [],\r\n      aiHand: [],\r\n      aiDealerHand: [],\r\n      hitDisabled: false,\r\n      stayDisabled: false,\r\n      restartDisabled: true,\r\n      playerDone: false,\r\n      dealerDone: false,\r\n      aiPlayerDone: false,\r\n      message: \"Hit Or Stay\",\r\n      aiMessage: \"AI Is Waiting\",\r\n      playerWinPercentage: 0,\r\n      playerPushPercentage: 0,\r\n      playerLossPercentage: 0,\r\n      aiWinPercentage: 0,\r\n      aiPushPercentage: 0,\r\n      aiLossPercentage: 0,\r\n    }\r\n  }\r\n\r\n  checkForBlackjack(dealer, player) {\r\n    if (dealer.total === 21 && player.total === 21) {\r\n      this.setState({\r\n        message: \"Push!\",\r\n      });\r\n      this.setStats(\"push\", player.isAi)\r\n      return true;\r\n    }\r\n    else if (dealer.total === 21) {\r\n      this.setState({\r\n        message: \"Dealer has blackjack!\"\r\n      })\r\n      this.setStats(\"loss\", true)\r\n      this.setStats(\"loss\", false)\r\n      return true\r\n    }\r\n    else if (player.total === 21) {\r\n      this.setState({\r\n        message: \"Player has blackjack!\"\r\n      })\r\n      this.setStats(\"win\", true)\r\n      this.setStats(\"win\", false)\r\n      return true\r\n    }\r\n    else return false\r\n  }\r\n\r\n  displayDealerTotal(dealerType = \"human\") {\r\n    if (dealerHand.cards.length === 2) {\r\n      return dealerHand.cards[0]\r\n    }\r\n    if (dealerType === \"ai\") {\r\n      return aiDealerHand.getTotalCardValue()\r\n    }\r\n    return dealerHand.getTotalCardValue()\r\n  }\r\n\r\n  async getAiDealerMoves() {\r\n    console.log(\"starting dealer moves\")\r\n    console.log(\"dealer total\", aiDealerHand.getTotalCardValue())\r\n    while (aiDealerHand.getTotalCardValue() < 17) {\r\n        console.log(\"aiDealer is hitting\")\r\n        this.hit(\"aiDealer\")\r\n    }\r\n    this.getWinner(aiDealerHand, aiPlayerHand)\r\n    }\r\n\r\n  async getAiMoves() {\r\n    while (aiPlayerHand.busted === false && aiPlayerHand.total != 21) {\r\n      var predictions = await this.getPrediction()\r\n      console.log(\"predictions: \", predictions)\r\n      if (predictions[0] >= predictions[1] && predictions[0] > 0.5) {\r\n        console.log(\"ai is hitting\")\r\n        this.hit(\"aiPlayer\")\r\n      }\r\n      else {\r\n        console.log(\"ai is holding\")\r\n        break\r\n      }\r\n    }\r\n    this.getAiDealerMoves(aiDealerHand, aiPlayerHand)\r\n  }\r\n\r\n  getCards(hand, playerType) {\r\n    var cards = []\r\n    for (var i=0; i<hand.cards.length; i++) {\r\n        var card = hand.cards[i]\r\n        cards.push(getCard(card, i))\r\n        if (playerType === \"dealer\" & this.state.playerDone === false) {\r\n          i = hand.cards.length\r\n        }\r\n    }\r\n    return cards;\r\n  }\r\n\r\n  getCount(hand1, hand2) {\r\n    return hand1.count + hand2.count\r\n  }\r\n\r\n  getDealerMoves(dealer, player) {\r\n    while (dealer.getTotalCardValue() < 17) {\r\n      if (dealer.owner === \"dealer\") {\r\n        this.hit(\"dealer\")\r\n      }\r\n      else {\r\n        this.hit(\"aiDealer\")\r\n      }\r\n    }\r\n    this.getWinner(dealer, player)\r\n    this.getAiMoves()\r\n    this.setState({\r\n      restartDisabled: false\r\n    })\r\n  }\r\n\r\n  getPercentage(playerType = \"human\", endType) {\r\n    if (playerType === \"ai\") {\r\n      return Math.floor(100 * (aiStats[endType] / (totalGames + 1)))\r\n    }\r\n    return Math.floor(100 * (playerStats[endType] / (totalGames + 1)))\r\n  }\r\n\r\n  async getPrediction() {\r\n    model = await tf.loadLayersModel('model.json');\r\n    var hitPredictionInput = tf.tensor([[aiDealerHand.cards[0], aiPlayerHand.getTotalCardValue(), this.getCount(aiDealerHand, aiPlayerHand), aiPlayerHand.soft, 1]])\r\n    var stayPredictionInput = tf.tensor([[aiDealerHand.cards[0], aiPlayerHand.getTotalCardValue(), this.getCount(aiDealerHand, aiPlayerHand), aiPlayerHand.soft, 0]])\r\n    var hitPrediction = model.predict(hitPredictionInput).dataSync()[0]\r\n    var stayPrediction = model.predict(stayPredictionInput).dataSync()[0]\r\n    console.log(\"hit: \", hitPrediction, \" stay: \", stayPrediction)\r\n    return [hitPrediction, stayPrediction]\r\n    }\r\n\r\n  getWinner(dealer, player) {\r\n    var winnerMessage = \"\"\r\n    if (player.total > 21) {\r\n      winnerMessage = \"Player Busted! Dealer Wins!\"\r\n      this.setStats(\"loss\", player.isAi)\r\n    }\r\n    else if (dealer.busted) {\r\n      winnerMessage = \"Dealer Busted! Player Wins!\"\r\n      this.setStats(\"win\", player.isAi)\r\n    }\r\n    else if (dealer.total > player.total) {\r\n      winnerMessage = \"Dealer Wins!\"\r\n      this.setStats(\"loss\", player.isAi)\r\n    }\r\n    else if (player.total > dealer.total) {\r\n      winnerMessage = \"Player Wins!\"\r\n      this.setStats(\"win\", player.isAi)\r\n    }\r\n    else {\r\n      winnerMessage = \"Push!\"\r\n      this.setStats(\"push\", player.isAi)\r\n      }\r\n    if (dealer.owner === \"dealer\") {\r\n      this.setState({\r\n        message: winnerMessage\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        aiMessage: winnerMessage\r\n      })\r\n    }\r\n  }\r\n\r\n  hit(handOwner) {\r\n   switch (handOwner) {\r\n     case \"player\":\r\n       this.setState({\r\n         playerHand: playerHand.addCard(deck)\r\n       })\r\n       if (playerHand.busted) {\r\n         console.log(\"bust\");\r\n         this.setState({\r\n         hitDisabled: true,\r\n         stayDisabled: true,\r\n         restartDisabled: false,\r\n         playerDone: true,\r\n         dealerDone: true,\r\n         message: \"Player busted! Dealer Wins!\"\r\n       })\r\n       this.getDealerMoves(dealerHand, playerHand)\r\n       }\r\n       break;\r\n     case \"dealer\":\r\n        this.setState({\r\n          dealerHand: dealerHand.addCard(deck)\r\n        })\r\n        if (dealerHand.busted) {\r\n          this.setState({\r\n            dealerDone: true,\r\n            message: \"Dealer Busted! Player Wins!\"\r\n          })\r\n        }\r\n        else if (dealerHand.total >= 17 && dealerHand.total <= 21) {\r\n          this.setState({\r\n            dealerDone: true,\r\n            restartDisabled: false,\r\n          })\r\n        }\r\n        break;\r\n     case \"aiPlayer\":\r\n        this.setState({\r\n          aiPlayerHand: aiPlayerHand.addCard(aiDeck)\r\n        })\r\n        if (aiPlayerHand.busted) {\r\n          this.setState({\r\n            aiPlayerDone: true,\r\n            aiMessage: \"AI Busted! AI Dealer Wins!\"\r\n          })\r\n        }\r\n        break;\r\n     case \"aiDealer\":\r\n       this.setState({\r\n         aiDealerHand: aiDealerHand.addCard(aiDeck)\r\n       })\r\n       if (aiDealerHand.busted) {\r\n         this.setState({\r\n           dealerDone: true,\r\n           aiMessage: \"Dealer Busted! Player Wins!\"\r\n         })\r\n       }\r\n       else if (aiDealerHand.total >= 17 && aiDealerHand.total <= 21) {\r\n         this.setState({\r\n           dealerDone: true,\r\n           restartDisabled: false,\r\n         })\r\n       }\r\n        break;\r\n     default:\r\n        console.log(\"Error: Player type not recognized\")\r\n        break;\r\n      }\r\n  }\r\n\r\n  async loadTheModel () {\r\n    var model\r\n    try {\r\n      model = await tf.loadLayersModel('model.json');\r\n      return model\r\n    }\r\n    catch (err) {\r\n      console.log(err);\r\n      console.log(\"failed load model\");\r\n    }\r\n  }\r\n\r\n  setStats(endType, isAi) {\r\n    if (isAi === true) {\r\n      aiStats[endType] += 1;\r\n    }\r\n    else {\r\n      playerStats[endType] += 1\r\n    }\r\n    this.setState({\r\n      playerWinPercentage: this.getPercentage(\"human\", \"win\"),\r\n      playerPushPercentage: this.getPercentage(\"human\", \"push\"),\r\n      aiWinPercentage: this.getPercentage(\"ai\", \"win\"),\r\n      aiPushPercentage: this.getPercentage(\"ai\", \"push\"),\r\n      playerLossPercentage: 100 - this.getPercentage(\"human\", \"win\") - this.getPercentage(\"human\", \"push\"),\r\n      aiLossPercentage: 100 - this.getPercentage(\"ai\", \"win\") - this.getPercentage(\"ai\", \"push\")\r\n    })\r\n    console.log(\"playerStats: \", playerStats, \" totalGames: \", totalGames)\r\n    console.log(\"aiStats: \", aiStats, \" totalGames: \", totalGames)\r\n  }\r\n\r\n  startGame() {\r\n    totalGames += 1\r\n    this.setState({\r\n      playerHand: [],\r\n      dealerHand: [],\r\n      playerDone: false,\r\n      dealerDone: false,\r\n      hitDisabled: false,\r\n      stayDisabled: false,\r\n      restartDisabled: true,\r\n      message: \"hit or stay\",\r\n      aiMessage: \"AI Side\"\r\n    })\r\n    buildDeck()\r\n    dealCards()\r\n    if (this.checkForBlackjack(dealerHand, playerHand) === true) {\r\n      this.setState({\r\n        hitDisabled: true,\r\n        stayDisabled: true,\r\n        restartDisabled: false\r\n      })\r\n    }\r\n    console.log('start')\r\n  }\r\n\r\n  stay(hand) {\r\n    switch (hand.owner) {\r\n      case \"player\":\r\n        this.setState({\r\n          hitDisabled: true,\r\n          stayDisabled: true,\r\n          playerDone: true,\r\n        })\r\n        this.getDealerMoves(dealerHand, playerHand)\r\n      case \"aiPlayer\":\r\n        console.log(\"aiPlayer stayed\")\r\n      default:\r\n        console.log(\"unknown player stayed\")\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <h2>\r\n        What is Blackjack AI?\r\n      </h2>\r\n      <h3>\r\n        Blackjack AI is a trained neural network that learned from over 10,000 hands of Blackjack.\r\n      </h3>\r\n      <h2>\r\n        Tech Stack\r\n      </h2>\r\n      <h3>\r\n        <p>AI: Python, keras, Tensorflow, TensorflowJS, and JavaScript</p>\r\n        <p>Website: ReactJS, JavaScript, html, CSS3</p>\r\n        <p>Hosted on Github Pages</p>\r\n      </h3>\r\n      <Box style={scoreStyle}>\r\n      Total Games: {totalGames}\r\n      </Box>\r\n      <Box style={scoreStyle}>\r\n        Player Wins: {this.state.playerWinPercentage}% AI Wins: {this.state.aiWinPercentage}%\r\n      </Box>\r\n      <Box style={scoreStyle}>\r\n        Player Pushes: {this.state.playerPushPercentage}% AI Pushes: {this.state.aiPushPercentage}%\r\n      </Box>\r\n      <Box style={scoreStyle}>\r\n        Player Losses: {this.state.playerLossPercentage}% AI Loss: {this.state.aiLossPercentage}%\r\n      </Box>\r\n      <Box style={gameStyle}>\r\n        <Box style={playerSideStyle}>\r\n          <Box style={messageStyle}>\r\n            {this.state.message}\r\n          </Box>\r\n          <Box>\r\n            Dealer: {this.displayDealerTotal()}\r\n          </Box>\r\n          <Box style={dealerStyle}>\r\n            {this.getCards(dealerHand, \"dealer\")}\r\n          </Box>\r\n          <Box>\r\n            Player: {playerHand.getTotalCardValue()}\r\n          </Box>\r\n        <Box style={playerStyle}>\r\n          {this.getCards(playerHand, \"player\")}\r\n          <div style={gameButtons}>\r\n            <button disabled={this.state.hitDisabled} onClick={() => this.hit(\"player\")} style={gameButtonStyles[this.state.hitDisabled]}>HIT</button>\r\n            <button disabled={this.state.stayDisabled} onClick={() => this.stay(playerHand)} style={gameButtonStyles[this.state.stayDisabled]}>STAY</button>\r\n            <button disabled={this.state.restartDisabled} onClick={() => this.startGame()} style={gameButtonStyles[this.state.restartDisabled]}>PLAY AGAIN</button>\r\n          </div>\r\n          </Box>\r\n        </Box>\r\n        <Box style={aiSideStyle}>\r\n          <Box style={messageStyle}>\r\n            {this.state.aiMessage}\r\n          </Box>\r\n          <Box>\r\n            AI Dealer: {this.displayDealerTotal(\"ai\")}\r\n          </Box>\r\n          <Box style={dealerStyle}>\r\n            {this.getCards(aiDealerHand, \"dealer\")}\r\n          </Box>\r\n          <Box>\r\n            AI Player: {aiPlayerHand.getTotalCardValue()}\r\n          </Box>\r\n          <Box style={aiStyle}>\r\n            {this.getCards(aiPlayerHand, \"aiPlayer\")}\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction buildDeck() {\r\n  deck = []\r\n  for (var i = 0; i < 8; i++) {\r\n    for (var j = 2; j < 12; j++) {\r\n      if (j === 10) {\r\n        deck.push(j)\r\n        deck.push(j)\r\n        deck.push(j)\r\n      }\r\n      deck.push(j)\r\n    }\r\n  }\r\n  shuffle(deck)\r\n  aiDeck = deck.slice()\r\n  console.log(\"building deck\")\r\n}\r\n\r\nfunction dealCards() {\r\n  playerHand.cards = [];\r\n  dealerHand.cards = [];\r\n  aiPlayerHand.cards = [];\r\n  aiDealerHand.cards = [];\r\n  for (var i = 0; i < 2; i++) {\r\n    playerHand.addCard(deck)\r\n    dealerHand.addCard(deck)\r\n    aiPlayerHand.addCard(aiDeck)\r\n    aiDealerHand.addCard(aiDeck)\r\n  }\r\n  aiPlayerHand.getTotalCardValue()\r\n  aiDealerHand.getTotalCardValue()\r\n  console.log(\"dealing cards\")\r\n}\r\n\r\nfunction getCard(card, index) {\r\n  return (\r\n    <Image key={index.toString()} style={cardStyle} src={cardValues[card]}/>\r\n  );\r\n}\r\n\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length,  randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex--;\r\n\r\n    // And swap it with the current element.\r\n    [array[currentIndex], array[randomIndex]] = [\r\n      array[randomIndex], array[currentIndex]];\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nexport default BlackjackGame;\r\n"]},"metadata":{},"sourceType":"module"}